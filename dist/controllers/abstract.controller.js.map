{"version":3,"sources":["../../src/controllers/abstract.controller.ts"],"sourcesContent":["import type { Response } from 'express'\nimport { type ClassConstructor, plainToInstance } from 'class-transformer'\nimport { StatusCode } from '@/utils'\n\nexport type IResponse<T = any> = {\n  data: T\n  message: string\n  statusCode?: keyof typeof StatusCode\n}\n\nexport abstract class Controller {\n  static success<T = any>(\n    res: Response,\n    data: T,\n    message: string = 'Successful',\n    statusCode = StatusCode.OK,\n  ) {\n    return res.status(statusCode).json({ success: true, data, message })\n  }\n\n  static error<T extends object = any>(\n    res: Response,\n    message: string,\n    data?: T,\n    statusCode: StatusCode = StatusCode.BAD_REQUEST,\n  ) {\n    return res.status(statusCode).json({ success: false, ...(data && { data }), message })\n  }\n\n  static mapEntity<TData>(\n    entity: ClassConstructor<any>,\n    data: TData,\n  ): TData extends null ? null : any {\n    return plainToInstance(entity, JSON.parse(JSON.stringify(data))) as any\n  }\n}\n"],"names":["Controller","success","res","data","message","statusCode","StatusCode","OK","status","json","error","BAD_REQUEST","mapEntity","entity","plainToInstance","JSON","parse","stringify"],"mappings":";;;;+BAUsBA;;;eAAAA;;;kCATiC;uBAC5B;AAQpB,MAAeA;IACpB,OAAOC,QACLC,GAAa,EACbC,IAAO,EACPC,UAAkB,YAAY,EAC9BC,aAAaC,iBAAU,CAACC,EAAE,EAC1B;QACA,OAAOL,IAAIM,MAAM,CAACH,YAAYI,IAAI,CAAC;YAAER,SAAS;YAAME;YAAMC;QAAQ;IACpE;IAEA,OAAOM,MACLR,GAAa,EACbE,OAAe,EACfD,IAAQ,EACRE,aAAyBC,iBAAU,CAACK,WAAW,EAC/C;QACA,OAAOT,IAAIM,MAAM,CAACH,YAAYI,IAAI,CAAC;YAAER,SAAS;YAAO,GAAIE,QAAQ;gBAAEA;YAAK,CAAC;YAAGC;QAAQ;IACtF;IAEA,OAAOQ,UACLC,MAA6B,EAC7BV,IAAW,EACsB;QACjC,OAAOW,IAAAA,iCAAe,EAACD,QAAQE,KAAKC,KAAK,CAACD,KAAKE,SAAS,CAACd;IAC3D;AACF"}